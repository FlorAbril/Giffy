(this.webpackJsonpgiffy=this.webpackJsonpgiffy||[]).push([[0],[,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n.n(a);n(22);function c(){return r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a="dIJrma20pSU6ymMwWnDbiaT7NFHeAGVa",r="https://api.giphy.com/v1"},,,,,,,function(e,t,n){e.exports=n.p+"static/media/logo.6579f55f.svg"},function(e,t,n){e.exports=n(28)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),i=n.n(c),l=(n(20),n(21),n(1)),o=n(3),u=n(7),s=function(e){var t=e.data,n=void 0===t?[]:t;return Array.isArray(n)?n.map((function(e){var t=e.images;return{title:e.title,id:e.id,url:t.downsized_medium.url}})):[]};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=void 0===t?10:t,a=e.keyword,r=void 0===a?"morty":a,c=e.page,i=void 0===c?0:c,l="".concat(u.b,"/gifs/search?api_key=").concat(u.a,"&q=").concat(r,"&limit=").concat(n,"&offset=").concat(i*n,"&rating=G&lang=en");return fetch(l).then((function(e){return e.json()})).then(s)}var f=r.a.createContext({});function d(e){var t=e.children,n=Object(a.useState)([]),c=Object(l.a)(n,2),i=c[0],o=c[1];return r.a.createElement(f.Provider,{value:{gifs:i,setGifs:o}},t)}var E=f;function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{keyword:null},t=e.keyword,n=Object(a.useState)(!1),r=Object(l.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(!1),u=Object(l.a)(o,2),s=u[0],f=u[1],d=Object(a.useContext)(E),v=d.gifs,g=d.setGifs,b=Object(a.useState)(0),p=Object(l.a)(b,2),h=p[0],y=p[1],O=t||localStorage.getItem("lastKeyword");return Object(a.useEffect)((function(){i(!0),m({keyword:O}).then((function(e){g(e),i(!1),localStorage.setItem("lastKeyword",O)}))}),[t,O,g]),Object(a.useEffect)((function(){0!==h&&(f(!0),m({keyword:O,page:h}).then((function(e){g((function(t){return t.concat(e)})),f(!1)})))}),[O,h,g]),{loading:c,loadingNextPage:s,gifs:v,setPage:y,keywordToUse:O}}var g=n(4);n(23);var b=r.a.memo((function(e){var t=e.title,n=e.id,a=e.url;return r.a.createElement("div",{className:"Gif"},r.a.createElement(o.a,{to:"/gif/".concat(n),className:"Gif-link"},r.a.createElement("h4",null,t),r.a.createElement("img",{alt:t,src:a})))}));n(24);function p(e){var t=e.gifs,n=e.title,a=e.lastKeyword,c=e.handleSubmit;return r.a.createElement("div",null,r.a.createElement("h3",null,n),r.a.createElement("div",{className:"ListOfGifs"},t.map((function(e){var t=e.id,n=e.title,a=e.url;return r.a.createElement(b,{id:t,key:t,title:n,url:a})}))),a&&r.a.createElement("button",{className:"button",onClick:function(){return c(a)}},"Ver m\xe1s"))}var h=n(0),y=h.useState,O=h.useEffect,j=h.useRef;function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.distance,n=void 0===t?"100px":t,a=e.externalRef,r=e.once,c=void 0===r||r,i=y(!1),o=Object(l.a)(i,2),u=o[0],s=o[1],m=j();return O((function(){var e=a?a.current:m.current,t=new IntersectionObserver((function(e,t){e[0].isIntersecting?(s(!0),c&&t.disconnect()):!c&&s(!1)}),{routeMargin:n});e&&t.observe(e)}),[n,a,c]),{isNearScreen:u,fromRef:m}}var k=r.a.lazy((function(){return n.e(3).then(n.bind(null,30))}));function S(){var e=w({distance:"1px"}),t=e.isNearScreen,n=e.fromRef;return r.a.createElement("div",{ref:n},r.a.createElement(a.Suspense,{fallback:r.a.createElement(g.a,null)},t&&r.a.createElement(k,null)))}var N=r.a.memo((function(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(l.a)(n,2),i=c[0],o=c[1],u=function(e,n){e.preventDefault(),t(n)};return r.a.createElement("form",{onSubmit:function(e){return u(e,i)}},r.a.createElement("button",{className:"search-button"},"Buscar"),r.a.createElement("input",{placeholder:"Buscar gifs",onChange:function(e){o(e.target.value)},type:"text",value:i}))})),G=n(5);function R(){var e=Object(o.d)(),t=Object(l.a)(e,2)[1],n=v(),c=n.loading,i=n.gifs,u=n.keywordToUse,s=Object(a.useCallback)((function(e){t("/search/".concat(e))}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,null,r.a.createElement("title",null,"Home | Giffy")),r.a.createElement(N,{onSubmit:s}),c?r.a.createElement(g.a,null):r.a.createElement("div",{className:"wrapper-gif"},c||r.a.createElement(p,{gifs:i,title:"\xdaltima b\xfasqueda: ".concat(decodeURI(u)),lastKeyword:u,handleSubmit:s}),r.a.createElement(S,null)))}var x=n(13),I=n.n(x);function C(e){var t=e.params.keyword,n=v({keyword:t}),c=n.loading,i=n.gifs,l=n.setPage,o=Object(a.useRef)(),u=w({externalRef:c?null:o,once:!1}).isNearScreen,s=i?"Gifs de ".concat(decodeURI(t)):"",m=Object(a.useCallback)(I()((function(){return l((function(e){return e+1}))}),100),[l]);return Object(a.useEffect)((function(){u&&m()}),[u,m]),r.a.createElement(r.a.Fragment,null,c?r.a.createElement(g.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,null,r.a.createElement("title",null,s),r.a.createElement("meta",{name:"description",content:s})),r.a.createElement(p,{gifs:i,title:decodeURI(t)}),r.a.createElement("div",{id:"visor",ref:o})))}var A=function(e){var t=e.data,n=t.images;return{title:t.title,id:t.id,url:n.downsized_medium.url}};function F(e){var t=e.id,n=v().gifs.find((function(e){return e.id===t})),r=Object(a.useState)(n),c=Object(l.a)(r,2),i=c[0],o=c[1],s=Object(a.useState)(!1),m=Object(l.a)(s,2),f=m[0],d=m[1],E=Object(a.useState)(!1),g=Object(l.a)(E,2),b=g[0],p=g[1];return Object(a.useEffect)((function(){i||(d(!0),function(e){var t=e.id;return fetch("".concat(u.b,"/gifs/").concat(t,"?api_key=").concat(u.a)).then((function(e){return e.json()})).then(A)}({id:t}).then((function(e){o(e),d(!1),p(!1)})).catch((function(e){d(!1),p(!0)})))}),[i,t]),{gif:i,isLoading:f,isError:b}}function U(e){var t=F({id:e.params.id}),n=t.gif,a=t.isLoading,c=t.isError,i=n?n.title:"";return a?r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,null,r.a.createElement("title",null,"Cargando...")),r.a.createElement(g.a,null)):c?r.a.createElement(o.b,{to:"/404"}):n?r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,null,r.a.createElement("title",null,i," | Giffy")),r.a.createElement(b,n)):null}var P=r.a.createContext({name:"sin provider",estado:!0}),B=n(14),K=n.n(B);function _(){return r.a.createElement(P.Provider,{value:{name:"flor abril",estado:!0}},r.a.createElement("div",{className:"App"},r.a.createElement("section",{className:"App-content"},r.a.createElement("div",{className:"App-logo"},r.a.createElement(o.a,{to:"/"},r.a.createElement("img",{src:K.a,alt:"Giffy",className:"App-logo"}))),r.a.createElement(d,null,r.a.createElement(o.c,{component:R,path:"/"}),r.a.createElement(o.c,{component:R,path:"/Giffy"}),r.a.createElement(o.c,{component:C,path:"/search/:keyword"}),r.a.createElement(o.c,{component:U,path:"/gif/:id"}),r.a.createElement(o.c,{component:function(){return r.a.createElement("h1",null,"ERROR 404 :( ")},path:"/404"})))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[15,1,2]]]);
//# sourceMappingURL=main.71860cac.chunk.js.map